---
layout: "base.njk"
pagination:
  data: collections.paginatedPosts
  size: 1
  alias: postsPage
permalink: "{% if postsPage.page == 1 %}/{% else %}/posts/{{ postsPage.page }}/{% endif %}"
eleventyComputed:
  metadata:
    title: "{% if postsPage.page == 1 %}{{ config.pages.homepage.metadata.title }}{% else %}Posts - Page {{ postsPage.page }}{% endif %}"
    description: "{% if postsPage.page == 1 %}{{ config.pages.homepage.metadata.description }}{% else %}Posts page {{ postsPage.page }}{% endif %}"
    img: "{{ config.pages.homepage.metadata.img }}"
---

{%- from 'macros/presets/' + config.theme + '.njk' import indexPostlistMacro,
postlistMacro with context -%} {%- from 'macros/presetFuncs.njk' import
widthClass with context -%}
<section class="text-content body-font">
  {% if postsPage.page == 1 %}
  <!-- Page 1: Header + Featured + Grid Layout -->
  <div
    class="w-full {{
      widthClass()
    }} px-5 mx-auto my-10 {% if config.pages.homepage.centerHeading %}text-center{% endif %}"
  >
    {% if config.pages.homepage.showHeading %}
    <h1 class="sm:text-5xl text-4xl font-medium title-font mb-4 text-header">
      {{ config.pages.homepage.heading }}
    </h1>
    <p class="leading-relaxed">
      {{ config.pages.homepage.subheading }}
    </p>
    {% endif %}
  </div>
  {%- include 'partials/category-nav.njk' -%}
  <!-- Featured Post (First Item) -->
  {{ indexPostlistMacro(postsPage) }}
  {% else %}
  <!-- Page 2+: Grid Layout Only -->
  <div class="my-10 text-center">
    <h1 class="sm:text-4xl text-3xl font-medium title-font mb-4 text-header">
      All Posts - Page {{ postsPage.page }}
    </h1>
  </div>
  {{ postlistMacro(postsPage, "posts") }}
  {% endif %}
</section>
