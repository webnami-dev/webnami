{% extends "base.njk" %}

{% block content %}
  <div>
    <!-- Header -->
    <div class="flex items-center justify-between mb-7">
      <div class="flex items-center gap-3 min-w-0">
        <a href="/admin/posts"
          class="shrink-0 p-1.5 rounded transition-colors duration-100"
          style="color: var(--color-accent);"
          onmouseover="this.style.color='var(--color-content)'; this.style.backgroundColor='var(--color-hover)';"
          onmouseout="this.style.color='var(--color-accent)'; this.style.backgroundColor='';"
          aria-label="Back to posts"
          >
          <i data-lucide="arrow-left" style="width:16px;height:16px;"></i>
        </a>
        <div class="min-w-0">
          <p class="text-[11px] font-medium" style="color: var(--color-accent); letter-spacing: 0.06em; text-transform: uppercase;">Edit Post</p>
        </div>
      </div>
      <div class="flex items-center gap-2 shrink-0">
        <button type="button" id="seo-btn"
          class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-[12.5px] font-medium transition-colors duration-100"
          style="color: var(--color-accent); border: 1px solid var(--color-border); background-color: var(--color-surface);"
          onmouseover="this.style.backgroundColor='var(--color-hover)'; this.style.color='var(--color-content)';"
          onmouseout="this.style.backgroundColor='var(--color-surface)'; this.style.color='var(--color-accent)';"
          >
          <i data-lucide="search" style="width:13px;height:13px;"></i>
          SEO Check
        </button>
        <button type="button" id="delete-btn"
          class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-[12.5px] font-medium transition-colors duration-100"
          style="color: #e03131; border: 1px solid color-mix(in srgb, #e03131 25%, transparent); background-color: var(--color-surface);"
          onmouseover="this.style.backgroundColor='color-mix(in srgb, #e03131 8%, transparent)';"
          onmouseout="this.style.backgroundColor='var(--color-surface)';"
          >
          <i data-lucide="trash-2" style="width:13px;height:13px;"></i>
          Delete
        </button>
      </div>
    </div>

    <!-- Form -->
    <form id="post-form" data-slug="{{ post.slug }}" class="flex gap-6 items-start">

      <!-- Left: main content -->
      <div class="flex flex-col gap-5 flex-1 min-w-0">

        <!-- Title -->
        <div>
          <input type="text" id="title" name="title" required value="{{ post.title }}"
            class="admin-input text-[15px] font-medium"
            placeholder="Post title">
        </div>

        <!-- Description -->
        <div>
          <input type="text" id="description" name="description" value="{{ post.description }}"
            class="admin-input"
            placeholder="Short description of the post">
        </div>

        <!-- Content -->
        <div>
          <textarea id="content" name="content">{{ post.content }}</textarea>
        </div>

        <!-- Actions -->
        <div class="flex items-center gap-2 pt-1">
          <button type="submit"
            class="inline-flex items-center gap-1.5 px-4 py-2 rounded text-[13px] font-medium text-white transition-opacity duration-100"
            style="background-color: var(--color-primary);"
            onmouseover="this.style.opacity='0.88';"
            onmouseout="this.style.opacity='1';"
            >
            <i data-lucide="save" style="width:14px;height:14px;"></i>
            Save Changes
          </button>
        </div>

      </div>

      <!-- Right: metadata sidebar -->
      <div class="flex flex-col gap-4 w-56 shrink-0">

        <div>
          <input type="text" id="date" name="date" required value="{{ post.date }}"
            class="admin-input" placeholder="YYYY-MM-DD">
        </div>

        <div>
          <input type="text" id="category" name="category" value="{{ post.category }}"
            class="admin-input" placeholder="Category (One)">
        </div>

        <div>
          <textarea id="tags" name="tags" rows="3"
            class="admin-input resize-none" placeholder="Tags (comma-separated)">{{ post.tags }}</textarea>
        </div>

      </div>

    </form>
  </div>

  <script type="module" src="/admin/js/post.js"></script>
{% endblock %}
