
{% import "macros/cardslist.njk" as cl %}

{% macro renderCategoryPage(categoryPage) %}
<section class="text-content min-h-screen py-12">
  <div class="max-w-2xl mx-auto px-5 mb-8">
    <h1 class="font-mono text-lg font-bold">
      <span class="text-primary-500">ls</span> /category/{{ categoryPage.name | lower }}{% if categoryPage.page > 1 %} <span class="text-accent font-normal text-sm">--page={{ categoryPage.page }}</span>{% endif %}
    </h1>
  </div>
  {%- include 'partials/categorynav.njk' -%}
  {{ cl.postsGrid(categoryPage, "category") }}
</section>
{% endmacro %}

{% macro renderTagPage(tagPage) %}
<section class="text-content min-h-screen py-12">
  <div class="max-w-2xl mx-auto px-5 mb-8">
    <h1 class="font-mono text-lg font-bold">
      <span class="text-primary-500">grep</span> --tag="{{ tagPage.name }}"{% if tagPage.page > 1 %} <span class="text-accent font-normal text-sm">--page={{ tagPage.page }}</span>{% endif %}
    </h1>
  </div>
  {{ cl.postsGrid(tagPage, "tags") }}
</section>
{% endmacro %}

{% macro renderAuthorPage(authorPage) %}
<section class="text-content min-h-screen py-12">
  <div class="max-w-2xl mx-auto px-5 mb-8">
    <h1 class="font-mono text-lg font-bold">
      <span class="text-primary-500">git log</span> --author="{{ authorPage.name }}"{% if authorPage.page > 1 %} <span class="text-accent font-normal text-sm">--page={{ authorPage.page }}</span>{% endif %}
    </h1>
  </div>
  {{ cl.postsGrid(authorPage, "author") }}
</section>
{% endmacro %}


{% macro renderHomePage(postsPage) %}
<section class="text-content min-h-screen py-12">
  {% if postsPage.page == 1 %}
  {# Page 1: heading + category nav + post list #}
  <div class="max-w-2xl mx-auto px-5 mb-8">
    <div class="mb-6">
      <p class="font-mono text-sm text-accent mb-2">~/{{ config.site.name | lower | replace(" ", "-") }}</p>
      <h1 class="font-mono text-xl sm:text-2xl font-bold text-content cursor-blink">{{ config.homepage.heading }}</h1>
    </div>
  </div>
  {%- include 'partials/categorynav.njk' -%}
  {{ cl.homePagePostsGrid(postsPage) }}
  {% else %}
  {# Page 2+: just the list #}
  <div class="max-w-2xl mx-auto px-5 mb-8">
    <h1 class="font-mono text-lg font-bold">
      <span class="text-primary-500">ls</span> /posts <span class="text-accent font-normal text-sm">--page={{ postsPage.page }}</span>
    </h1>
  </div>
  {{ cl.postsGrid(postsPage, "posts") }}
  {% endif %}
</section>
{% endmacro %}
