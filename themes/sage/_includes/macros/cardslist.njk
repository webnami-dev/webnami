{% import "macros/pagination.njk" as p %}
{% import "macros/card.njk" as c %}

<!-- Index page: featured post + stacked single-column list -->
{% macro homePagePostsGrid(postsPage) %}
{% set featuredPost = postsPage.items[0] %}
{% if featuredPost %}
{{ c.featuredCard(featuredPost) }}
{% if postsPage.postsPerPage == 1 and postsPage.total > 1 %}
<div>
  {{ p.paginationHomePage(postsPage) }}
</div>
{% endif %}
{% endif %}

<!-- Regular posts stacked vertically -->
<div x-data="fadeObserver">
  {% for post in postsPage.items %}
  {% if not loop.first %}
  <div class="border-t border-border" data-sage-animate>
    {{ c.postCard(post) }}
  </div>
  {% endif %}
  {% endfor %}
  {% if postsPage.total > postsPage.postsPerPage %}
    {{ p.paginationHomePage(postsPage) }}
  {% endif %}
</div>
{% endmacro %}

<!-- List of posts for pages (tags, categories) - single column -->
{% macro postsGrid(posts, type) %}
<div x-data="fadeObserver">
  {% for post in posts.items %}
  <div class="border-t border-border" data-sage-animate>
    {{ c.postCard(post) }}
  </div>
  {% endfor %}
  {{ p.pagination(posts, type) }}
</div>
{% endmacro %}
