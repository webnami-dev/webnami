<!-- Reusable post card - Apple Notes / Notion style -->
{% macro postCard(post, extraClass) %}
{% set meta = post | postMeta %}
<a
  class="group flex flex-col h-full bg-surface rounded-lg border border-border hover:border-accent/30 overflow-hidden focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 {{ extraClass }}"
  href="{{ post.url }}"
>
  <div class="flex-shrink-0 aspect-[16/10] w-full overflow-hidden">
    <img
      class="w-full h-full object-cover"
      src="{{ meta.image }}"
      alt="{{ post.data.title }}"
    />
  </div>
  <div class="p-5 flex flex-col flex-grow">
    <h2
      class="text-base sm:text-lg font-semibold tracking-tight leading-snug text-content mb-2 line-clamp-2"
    >
      {{ post.data.title }}
    </h2>
    <p class="hidden sm:block text-sm text-accent leading-relaxed mb-3 line-clamp-2">
      {{ meta.excerpt }}
    </p>
    <div class="mt-auto">
      {{ postByline(post) }}
      {{ categoryBadge(post) }}
    </div>
  </div>
</a>
{% endmacro %}

<!-- Featured post (hero layout) - clean card surface -->
{% macro featuredCard(post) %}
{% set meta = post | postMeta %}
<div class="w-full max-w-5xl mx-auto px-5 mb-10">
  <a
    href="{{ post.url }}"
    class="group flex flex-col lg:flex-row bg-surface rounded-lg border border-border hover:border-accent/30 overflow-hidden focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500"
  >
    <div class="lg:w-3/5 aspect-[16/10] lg:aspect-auto overflow-hidden">
      <img
        class="w-full h-full object-cover"
        src="{{ meta.image }}"
        alt="{{ post.data.title }}"
      />
    </div>
    <div class="lg:w-2/5 p-6 sm:p-8 flex flex-col justify-center">
      <h2
        class="text-xl sm:text-2xl font-semibold tracking-tight leading-snug text-content mb-3"
      >
        {{ post.data.title }}
      </h2>
      <p class="hidden sm:block text-sm text-accent leading-relaxed mb-4 line-clamp-3">
        {{ meta.excerpt }}
      </p>
      {{ postByline(post) }}
      {{ categoryBadge(post) }}
    </div>
  </a>
</div>
{% endmacro %}

<!-- Post byline (author + date) -->
{% macro postByline(post) %}
<p class="text-xs text-accent mb-2">
  {% if post.data.author %}{{ post.data.author }} &middot; {% endif %}{{ post.data.date | postDate }}
</p>
{% endmacro %}

<!-- Category badge - Notion-style pill -->
{% macro categoryBadge(post) %}
{% if post.data.category %}
<div class="flex">
  <span
    class="inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-primary-50 text-primary-500 border border-primary-100"
  >
    {{ post.data.category }}
  </span>
</div>
{% endif %}
{% endmacro %}
