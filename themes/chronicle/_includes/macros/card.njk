<!-- Reusable post card -->
{% macro postCard(post, extraClass) %}
{% set meta = post | postMeta %}
<a
  class="group flex flex-col h-full focus:outline-none {{ extraClass }}"
  href="{{ post.url }}"
>
  <!-- Landscape image, no rounded corners -->
  <div class="flex-shrink-0 aspect-[3/2] w-full overflow-hidden">
    <img
      class="w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-90"
      src="{{ meta.image }}"
      alt="{{ post.data.title }}"
    />
  </div>
  <div class="pt-5 pb-4 flex-grow flex flex-col">
    <!-- Date in uppercase coral -->
    <span class="post-date mb-3">{{ post.data.date | postDate }}</span>
    <!-- Title in serif -->
    <h2
      class="font-serif text-xl sm:text-2xl font-semibold leading-snug group-hover:text-primary-500 transition-colors duration-200 mb-3"
    >
      {{ post.data.title }}
    </h2>
    <!-- Excerpt -->
    <p class="hidden sm:block text-accent text-sm leading-relaxed line-clamp-3">
      {{ meta.excerpt }}
    </p>
  </div>
</a>
{% endmacro %}

<!-- Featured post (hero layout): image on top, then two-column title/excerpt below -->
{% macro featuredCard(post) %}
{% set meta = post | postMeta %}
<div class="w-full max-w-5xl mx-auto px-5 mb-16">
  <a
    href="{{ post.url }}"
    class="group block"
  >
    <!-- Full-width landscape image -->
    <div class="aspect-[16/9] overflow-hidden mb-8">
      <img
        class="w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-90"
        src="{{ meta.image }}"
        alt="{{ post.data.title }}"
      />
    </div>
    <!-- Two-column: title left, excerpt right -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10">
      <div>
        <h2 class="font-serif text-2xl sm:text-3xl md:text-4xl font-bold leading-tight group-hover:text-primary-500 transition-colors duration-200">
          {{ post.data.title }}
        </h2>
      </div>
      <div class="flex flex-col justify-center">
        <p class="text-accent text-base leading-relaxed">
          {{ meta.excerpt }}
        </p>
      </div>
    </div>
  </a>
</div>
{% endmacro %}

<!-- Post byline (author + date) -->
{% macro postByline(post) %}
<p class="text-accent text-sm">
  {% if post.data.author %}<span class="font-medium text-content/70">{{ post.data.author }}</span> <span class="text-accent/40 mx-1">/</span> {% endif %}<span class="post-date">{{ post.data.date | postDate }}</span>
</p>
{% endmacro %}

<!-- Category badge -->
{% macro categoryBadge(post) %}
{% if post.data.category %}
<div class="mb-2">
  <span class="post-date">
    {{ post.data.category }}
  </span>
</div>
{% endif %}
{% endmacro %}
